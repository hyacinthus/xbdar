{
    "datasources": [
        {
            "id": "1",
            "name": "测试json数据源",
            "domain": "file",
            "type": "json",
            "param_json": {
                "path": "files/test_ds.json"
            }
        },
        {
            "id": "2",
            "name": "测试sqlite3数据源",
            "domain": "db",
            "type": "sqlite3",
            "param_json": {
                "conn_str": "files/test_ds.sqlite3"
            }
        }
    ],
    "charts": [
        {
            "id": "1",
            "name": "基础折线图",
            "type": "line",
            "datasource_domain": "file",
            "datasource_type": "json",
            "datasource_id": "1",
            "data_param_json": {
                "key_path": "data#1"
            },
            "chart_param_json": {
                "plot_js": "(function(node, data) { var chart = new G2.Chart({ container: node, forceFit: true, height: window.innerHeight }); chart.source(data); chart.scale('value', { min: 0 }); chart.scale('year', { range: [0, 1] }); chart.tooltip({ crosshairs: { type: 'line' } }); chart.line().position('year*value'); chart.point().position('year*value').size(4).shape('circle').style({ stroke: '#fff', lineWidth: 1 }); chart.render(); }) "
            }
        },
        {
            "id": "2",
            "name": "基础柱状图",
            "type": "column",
            "datasource_domain": "file",
            "datasource_type": "json",
            "datasource_id": "1",
            "data_param_json": {
                "key_path": "data#2"
            },
            "chart_param_json": {
                "plot_js": "(function(node, data) { var chart = new G2.Chart({ container: node, forceFit: true, height: window.innerHeight }); chart.source(data); chart.scale('sales', { tickInterval: 20 }); chart.interval().position('year*sales'); chart.render(); }) "
            }
        },
        {
            "id": "3",
            "name": "基础饼图",
            "type": "pie",
            "datasource_domain": "db",
            "datasource_type": "sqlite3",
            "datasource_id": "2",
            "data_param_json": {
                "sql": "select item,percent from item_percent"
            },
            "chart_param_json": {
                "plot_js": "(function(node, data) { var chart = new G2.Chart({ container: node, forceFit: true, height: window.innerHeight }); chart.source(data, { percent: { formatter: function formatter(val) { val = val * 100 + '%'; return val; } } }); chart.coord('theta'); chart.tooltip({ showTitle: false }); chart.intervalStack().position('percent').color('item').label('percent', { offset: -40, textStyle: { textAlign: 'center', shadowBlur: 2, shadowColor: 'rgba(0, 0, 0, .45)' } }).tooltip('item*percent', function(item, percent) { percent = percent * 100 + '%'; return { name: item, value: percent }; }).style({ lineWidth: 1, stroke: '#fff' }); chart.render(); })"
            }
        }
    ],
    "dashboards": [
        {
            "id": "1",
            "key": null,
            "title": "测试报表",
            "layout_json": {},
            "parent_id": null,
            "chart_ids": [
                "1",
                "2"
            ]
        }
    ]
}